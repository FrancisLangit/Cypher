{% extends 'cypher_app/base.html' %}
{% load bootstrap4 %}

{% block body %}

<div class="card m-5">

  <div class="card-header">

    {% if is_mobile %}
        <div class="dropdown">
          <button 
            class="btn btn-secondary dropdown-toggle" 
            type="button" 
            id="dropdownMenuButton" 
            data-toggle="dropdown" 
            aria-haspopup="true" 
            aria-expanded="false">
            {{ current_cipher }}
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a 
                class="dropdown-item" 
                href="{% url 'cypher_app:app' 'binary' %}">
                Binary
            </a>
            <a 
                class="dropdown-item" 
                href="{% url 'cypher_app:app' 'caesar_cipher' %}">
                Caesar Cipher
            </a>
            <a 
                class="dropdown-item" 
                href="{% url 'cypher_app:app' 'morse_code' %}">
                Morse Code
            </a>
            <a 
                class="dropdown-item" 
                href="{% url 'cypher_app:app' 'pig_latin' %}">
                Pig Latin
            </a>
          </div>
        </div>
    {% else %}
        <ul class="nav nav-pills card-header-pills">
            <li class="nav-item">
                <a 
                    href="{% url 'cypher_app:app' 'binary' %}"
                    class="
                        {% if request.path == '/app/binary/' %}
                            nav-link active
                        {% else %}
                            nav-link
                        {% endif %}">
                    Binary
                </a>
            </li>

            <li class="nav-item">
                <a 
                    href="{% url 'cypher_app:app' 'caesar_cipher' %}"
                    class="
                        {% if request.path == '/app/caesar_cipher/' %}
                            nav-link active
                        {% else %}
                            nav-link
                        {% endif %}">
                    Caesar Cipher
                </a>
            </li>

            <li class="nav-item">
                <a 
                    href="{% url 'cypher_app:app' 'morse_code' %}"
                    class="
                        {% if request.path == '/app/morse_code/' %}
                            nav-link active
                        {% else %}
                            nav-link
                        {% endif %}">
                    Morse Code
                </a>
            </li>

            <li class="nav-item">
                <a 
                    href="{% url 'cypher_app:app' 'pig_latin' %}"
                    class="
                        {% if request.path == '/app/pig_latin/' %}
                            nav-link active
                        {% else %}
                            nav-link
                        {% endif %}">
                    Pig Latin
                </a>
            </li>
        </ul>
    {% endif %}

  </div>

  <div class="card-body">
    <form action="{{ request.path }}" method="post">
    	{% csrf_token %}

        {% bootstrap_field form.text %}

        {% if request.path == "/app/caesar_cipher/" %}
            {% bootstrap_field form.key %}
        {% endif %}

        {% bootstrap_field form.operation %}

        {% buttons %}
            <button name="submit" class="btn btn-primary">
                Submit
            </button>
        {% endbuttons %}
    </form>

    <hr />

    <h3 class="card-title">Output</h5>

    <div class="alert alert-dark" role="alert">
        {% if messages %}
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        {% else %}
            Output text appears here.
        {% endif %}
    </div>

  </div>

</div>

{% endblock %}